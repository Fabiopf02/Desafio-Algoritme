{"version":3,"sources":["utils/history.ts","config/firebase.ts","services/auth.ts","contexts/auth.tsx","components/ClientProperty.tsx","utils/date.ts","services/client.ts","services/algoliasearch.ts","contexts/client.tsx","components/Client.tsx","utils/format.ts","assets/loading.gif","components/Loading.tsx","utils/sort.ts","contexts/filter.tsx","components/Clients.tsx","components/Header.tsx","components/Input.tsx","components/SubmitButton.tsx","components/FormError.tsx","components/Form.tsx","components/NewClient.tsx","components/Search.tsx","components/Filter.tsx","components/SideBar.tsx","pages/Dashboard.tsx","routes/app.routes.tsx","pages/Logon.tsx","pages/Register.tsx","routes/auth.routes.tsx","routes/index.tsx","App.tsx","index.tsx"],"names":["createBrowserHistory","firebaseConfig","apiKey","process","REACT_APP_FIREBASE_KEY","authDomain","REACT_APP_FIREBASE_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","initializeApp","SignInService","email","password","a","firebaseAuth","signInWithEmailAndPassword","getAuth","user","Error","String","SignOutService","signOut","SignUpService","name","createUserWithEmailAndPassword","updateProfile","displayName","firestore","AuthContext","createContext","AuthProvider","children","useState","setUser","loading","setLoading","useEffect","localStorage","getItem","pathname","history","location","push","JSON","parse","signIn","useCallback","uid","id","setItem","stringify","removeItem","Provider","value","signed","Boolean","ClientProperty","prop","className","memo","getDate","date","Date","seconds","toISOString","split","CreateClientService","data","addDoc","collection","getFirestore","docRef","GetClientsService","q","query","where","getDocs","docs","clients","map","dc","birthDate","createdAt","doc","ref","UpdateClientService","updateDoc","GetClientService","getDoc","phone","status","ownerId","income","RemoveClientService","deleteDoc","searchIndex","algoliasearch","REACT_APP_ALGOLIASEARCH_APPID","REACT_APP_ALGOLIASEARCH_APIKEY","initIndex","REACT_APP_ALGOLIASEARCH_INDEX","SearchService","term","search","hits","SaveObjectService","objectID","rest","saveObject","statusText","console","log","UpdateObjectService","partialUpdateObject","RemoveObjectService","deleteObject","ClientContext","ClientProvider","setDoc","removed","setRemoved","handleChange","action","res","createClient","getClients","userId","updateClient","searchClient","removeClientFC","Client","setClient","useContext","confirm","setConfirm","removeClient","alert","confirmFC","replace","toLocaleDateString","Number","toFixed","toLocaleString","onClick","width","key","Math","random","Loading","src","LoadingGit","alt","sortBy","field","array","type","sorted","sort","b","valueA","valueB","toUpperCase","reverse","FilterContext","FilterProvider","setSearch","order","setOrder","setSearchFC","changeOrder","Clients","setClients","reload","setReload","lastSearch","setLastSearch","getData","ov","filter","client","get","clts","handleSearch","oldValue","undefined","length","Header","Input","props","err","setErr","text","minLength","step","onBlur","event","currentTarget","match","autoComplete","React","forwardRef","SubmitButton","disabled","FormError","error","Form","onSubmit","NewClient","nameRef","useRef","phoneRef","birthRef","incomeRef","statusRef","modalRef","setError","current","checked","handleSubmit","preventDefault","toString","substr","clearInputs","closeModal","openModal","classList","add","remove","addEventListener","useImperativeHandle","placeholder","maxLength","Search","inputRef","size","OrderFilter","fieldRef","typeRef","onChange","defaultValue","SideBar","fct","visible","setVisible","sidebarRef","logout","toggle","includes","Dashboard","AppRoutes","path","exact","component","from","to","Logon","emailRef","passwordRef","handleLogon","indexOf","Register","useHistory","handleRegister","AuthRoutes","Routes","Fragment","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ec463b1.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory();","import { initializeApp } from \"firebase/app\";\r\nimport * as firestore from \"@firebase/firestore\";\r\nimport * as firebaseAuth from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nfirebaseAuth.getAuth(app);\r\nfirestore.getFirestore(app);\r\n\r\nexport  {\r\n  firestore,\r\n  firebaseAuth,\r\n};\r\n","import { firebaseAuth } from 'config/firebase';\r\n\r\nexport async function SignInService(email: string, password: string) {\r\n  try {\r\n    const { user} = await firebaseAuth.signInWithEmailAndPassword(firebaseAuth.getAuth(), email, password);\r\n\r\n    return user;\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport async function SignOutService() {\r\n  try {\r\n    await firebaseAuth.getAuth().signOut();\r\n    return true;\r\n  } catch(err) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function SignUpService(email: string, password: string, name: string) {\r\n  try {\r\n    const { user } = await firebaseAuth.createUserWithEmailAndPassword(\r\n      firebaseAuth.getAuth(),\r\n      email, password,\r\n    );\r\n    await firebaseAuth.updateProfile(user, { displayName: name });\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}","import React, { createContext, useCallback, useEffect, useState } from 'react';\r\nimport history from 'utils/history';\r\n\r\nimport { SignInService, SignOutService } from 'services/auth';\r\n\r\ninterface IUser {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n}\r\ninterface AuthContextData {\r\n  signed: boolean;\r\n  user: IUser | null;\r\n  loading: boolean;\r\n  signIn(email: string, password: string): Promise<void>;\r\n  signOut(): Promise<void>;\r\n}\r\n\r\nexport const AuthContext = createContext<AuthContextData>({} as AuthContextData);\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n  const [user, setUser] = useState<IUser | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('@user');\r\n    const { pathname } = history.location;\r\n    if (!user) {\r\n      history.push(pathname !== '/dashboard' ? pathname : '/login');\r\n      return setLoading(false);\r\n    }\r\n\r\n    setUser(JSON.parse(user!));\r\n    setLoading(false);\r\n    history.push('/dashboard');\r\n  }, []);\r\n\r\n  const signIn = useCallback(async (email: string, password: string) => {\r\n    try {\r\n      const { displayName: name, uid } = await SignInService(email, password);\r\n      history.push('/dashboard');\r\n      setUser({ name: name!, id: uid, email });\r\n      localStorage.setItem('@user', JSON.stringify({ name, id: uid, email}));\r\n    } catch(err) {\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n  const signOut = useCallback(async () => {\r\n    await SignOutService();\r\n    history.push('/login');\r\n    setUser(null);\r\n    localStorage.removeItem('@user');\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ signed: Boolean(user), loading, user, signIn, signOut }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React, { memo } from 'react';\r\n\r\ninterface IProps {\r\n  prop: string;\r\n  value: any;\r\n}\r\n\r\nconst ClientProperty: React.FC<IProps> = ({ prop, value }) => {\r\n  return (\r\n    <div className=\"block\">\r\n      <h4 className=\"p\">{prop}</h4>\r\n      <p\r\n        className={\r\n          typeof(value) === 'boolean' ? value ? 'v gr' : 'v r' : 'v'\r\n        }>\r\n          {typeof(value) === 'boolean' ? value ? 'Ativo' : 'Inativo' : String(value)}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(ClientProperty);\r\n","interface IParam {\r\n  seconds: number;\r\n}\r\n\r\nexport function getDate(value: IParam) {\r\n  const date = new Date(value.seconds * 1000).toISOString().split('T')[0].split('/');\r\n  return new Date(`${date[1]}/${date[2]}/${date[0]}`);\r\n}","import { IClient } from 'components/Client';\r\nimport { firestore } from 'config/firebase';\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  getDocs,\r\n  getDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  query,\r\n  where,\r\n  DocumentData,\r\n  DocumentReference,\r\n} from 'firebase/firestore';\r\nimport { getDate } from 'utils/date';\r\n\r\nexport type DocRef = DocumentReference<DocumentData>;\r\n\r\ntype Doc = Omit<IClient, \"birthDate\" | \"createdAt\"> & {\r\n  birthDate: {\r\n    seconds: number;\r\n  };\r\n  createdAt: {\r\n    seconds: number;\r\n  };\r\n}\r\n\r\nexport async function CreateClientService(data: IClient) {\r\n  try {\r\n    const docRef = await addDoc(collection(firestore.getFirestore(), 'clients'), data);\r\n    return docRef;\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport async function GetClientsService(id: string) {\r\n  try {\r\n    const q = query(collection(firestore.getFirestore(), 'clients'), where('ownerId', '==', id));\r\n    const { docs } = await getDocs(q);\r\n    const clients = docs.map(dc => {\r\n      const data = dc.data() as Doc;\r\n      const birthDate = getDate(data.birthDate);\r\n      const createdAt = getDate(data.createdAt);\r\n      return {...data, birthDate, createdAt, doc: dc.ref};\r\n    });\r\n    return clients;\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport type IData = Omit<IClient, | \"createdAt\" | \"ownerId\">\r\n\r\nexport async function UpdateClientService(data: IData) {\r\n  try {\r\n    await updateDoc(data.doc!, { ...data });\r\n    return data.doc;\r\n  } catch (err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport async function GetClientService(ref: DocRef) {\r\n  try {\r\n    const doc = await getDoc(ref);\r\n    const data = doc.data() as Doc;\r\n\r\n    return {\r\n      doc: data.doc,\r\n      id: data.id,\r\n      name: data.name,\r\n      phone: data.phone,\r\n      status: data.status,\r\n      ownerId: data.ownerId,\r\n      income: data.income,\r\n      createdAt:getDate(data.createdAt),\r\n      birthDate:getDate(data.birthDate)\r\n    };\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport async function RemoveClientService(ref: DocRef) {\r\n  try {\r\n    await deleteDoc(ref);\r\n    return;\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n","import algoliasearch from 'algoliasearch';\r\nimport { IClient } from 'components/Client';\r\n\r\nconst searchClient = algoliasearch(\r\n  process.env.REACT_APP_ALGOLIASEARCH_APPID!,\r\n  process.env.REACT_APP_ALGOLIASEARCH_APIKEY!,\r\n);\r\n\r\nconst searchIndex = searchClient.initIndex(process.env.REACT_APP_ALGOLIASEARCH_INDEX!);\r\n\r\nexport async function SearchService(term: string, ownerId: string) {\r\n  const { hits } = await searchIndex.search<IClient>(ownerId + ' ' + term);\r\n  return hits;\r\n}\r\n\r\nexport async function SaveObjectService(data: IClient) {\r\n  try {\r\n    const { id: objectID, ...rest} = data;\r\n    await searchIndex.saveObject({\r\n      objectID,\r\n      name: rest.name,\r\n      status: rest.status,\r\n      statusText: rest.status ? 'ativo' : 'inativo',\r\n      phone: rest.phone,\r\n      income: rest.income,\r\n      ownerId: rest.ownerId,\r\n      birthDate: rest.birthDate,\r\n      createdAt: rest.createdAt,\r\n    });\r\n  } catch(err) {\r\n    console.log('Algolia -> ', err);\r\n  }\r\n}\r\n\r\nexport async function UpdateObjectService(data: IClient) {\r\n  try {\r\n    const { id: objectID, ...rest} = data;\r\n    await searchIndex.partialUpdateObject({\r\n      objectID,\r\n      name: rest.name,\r\n      status: rest.status,\r\n      statusText: rest.status ? 'ativo' : 'inativo',\r\n      phone: rest.phone,\r\n      income: rest.income,\r\n      ownerId: rest.ownerId,\r\n      birthDate: rest.birthDate,\r\n      createdAt: rest.createdAt,\r\n    });\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n\r\nexport async function RemoveObjectService(objectID: number) {\r\n  try {\r\n    await searchIndex.deleteObject(String(objectID));\r\n    return;\r\n  } catch(err) {\r\n    throw new Error(String(err));\r\n  }\r\n}\r\n","import React, { createContext, useCallback, useState } from 'react';\r\nimport { IClient } from 'components/Client';\r\nimport {\r\n  CreateClientService,\r\n  DocRef,\r\n  GetClientService,\r\n  GetClientsService,\r\n  IData,\r\n  RemoveClientService,\r\n  UpdateClientService,\r\n} from 'services/client';\r\nimport { RemoveObjectService, SaveObjectService, SearchService, UpdateObjectService } from 'services/algoliasearch';\r\nimport { Hit } from '@algolia/client-search';\r\n\r\ninterface ClientContextData {\r\n  loading: boolean;\r\n  doc?: IClient;\r\n  removed?: number;\r\n  removeClientFC(term: IClient): Promise<void>;\r\n  searchClient(term: string, ownerId: string): Promise<Hit<IClient>[]>\r\n  updateClient(data: IData): Promise<void>;\r\n  createClient(data: IClient): Promise<void>;\r\n  getClients(id: string): Promise<IClient[]>;\r\n}\r\n\r\nexport const ClientContext = createContext({} as ClientContextData);\r\n\r\nexport const ClientProvider: React.FC = ({ children }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [doc, setDoc] = useState<IClient>();\r\n  const [removed, setRemoved] = useState<number>();\r\n\r\n  async function handleChange(ref?: DocRef, action?: string) {\r\n    if (!ref) {\r\n      return;\r\n    }\r\n    const res = await GetClientService(ref!);\r\n    if (action === 'created') {\r\n      await SaveObjectService(res);\r\n    } else {\r\n      await UpdateObjectService(res);\r\n    }\r\n    setDoc(res);\r\n  }\r\n\r\n  const createClient = useCallback(async (data: IClient) => {\r\n    try {\r\n      const ref = await CreateClientService(data);\r\n      await SaveObjectService(data);\r\n      handleChange(ref, 'created');\r\n    } catch(err) {\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n\r\n  const getClients = useCallback(async (userId: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const clients = await GetClientsService(userId);\r\n      setLoading(false);\r\n      return clients;\r\n    } catch(err) {\r\n      setLoading(false);\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n  \r\n  const updateClient = useCallback(async (data: IData) => {\r\n    try {\r\n      const ref = await UpdateClientService(data);\r\n      handleChange(ref, 'updated');\r\n    } catch(err) {\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n\r\n  const searchClient = useCallback(async (value: string, ownerId: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await SearchService(value, ownerId);\r\n      setLoading(false);\r\n      return res;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n\r\n  const removeClientFC = useCallback(async (doc: IClient) => {\r\n    try {\r\n      await RemoveClientService(doc.doc!);\r\n      await RemoveObjectService(doc.id);\r\n      return setRemoved(doc.id);\r\n    } catch(err) {\r\n      throw new Error(String(err));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <ClientContext.Provider\r\n      value={{\r\n        loading,\r\n        doc,\r\n        removed,\r\n        removeClientFC,\r\n        searchClient,\r\n        createClient,\r\n        getClients,\r\n        updateClient,\r\n      }}\r\n    >\r\n      {children}\r\n    </ClientContext.Provider>\r\n  )\r\n};\r\n","import React, { memo, useContext, useState } from 'react';\r\n\r\nimport 'styles/components/Client.css';\r\n\r\nimport ClientProperty from './ClientProperty';\r\nimport { DocumentReference } from '@firebase/firestore';\r\nimport { ClientContext } from 'contexts/client';\r\n\r\nimport { FiEdit2 as FiEdit, FiTrash } from 'react-icons/fi';\r\nimport { formatPhoneNumber } from 'utils/format';\r\nimport { IC } from 'pages/Dashboard';\r\n\r\nexport interface IClient {\r\n  doc?: DocumentReference;\r\n  id: number;\r\n  name: string;\r\n  phone: number;\r\n  birthDate: Date;\r\n  income: number;\r\n  status: boolean;\r\n  ownerId: string;\r\n  createdAt: Date;\r\n}\r\n\r\ninterface IProps {\r\n  data: IClient;\r\n  setClient: React.Dispatch<React.SetStateAction<IC>>;\r\n}\r\n\r\nconst Client: React.FC<IProps> = ({ data, setClient }) => {\r\n  const { removeClientFC } = useContext(ClientContext);\r\n  const [confirm, setConfirm] = useState(false);\r\n  const handleEdit = () => {\r\n    setClient({ data, key: Math.random() });\r\n  }\r\n\r\n  const removeClient = async function() {\r\n    try {\r\n      await removeClientFC(data);\r\n      return alert(\"O cliente foi removido\");\r\n    } catch(err) {\r\n      alert(\"Ocorreu um error, tente novamente\");\r\n    }\r\n  }\r\n\r\n  const confirmFC = async () => {\r\n    if (!confirm) return setConfirm(true);\r\n\r\n    return await removeClient();\r\n  };\r\n\r\n  return (\r\n    <div className=\"client-container\">\r\n      <div className=\"data\">\r\n        <ClientProperty prop=\"ID\" value={data.id} />\r\n        <ClientProperty prop=\"Nome\" value={data.name} />\r\n        <ClientProperty prop=\"Telefone\" value={formatPhoneNumber(data.phone)} />\r\n        <ClientProperty prop=\"Data de nasc.\" value={data.birthDate.toLocaleDateString()} />\r\n        <ClientProperty prop=\"Renda\" value={'R$ ' + Number(data.income.toFixed(2)).toLocaleString()} />\r\n        <ClientProperty prop=\"Status\" value={data.status} />\r\n      </div>\r\n      <div className=\"options\">\r\n        <button className=\"del\" onClick={confirmFC}>\r\n          <strong>{confirm ? 'Confirmar' :'Remover'}</strong>\r\n          {confirm === false && <FiTrash width={20} />}\r\n        </button>\r\n        <button onClick={handleEdit}>\r\n          <strong>Editar</strong>\r\n          <FiEdit width={20} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(Client);\r\n","export function formatPhoneNumber(phone: string | number) {\r\n  phone = String(phone);\r\n  const formated = phone.replace(/(\\d{2})(\\d{1})(\\d{4})(\\d{4})$/, '($1) $2 $3-$4');\r\n  return formated;\r\n}","export default __webpack_public_path__ + \"static/media/loading.2e4773db.gif\";","import React from 'react';\r\n\r\nimport LoadingGit from 'assets/loading.gif';\r\n\r\nconst Loading: React.FC = () => {\r\n  return (\r\n    <div className=\"loading-container\">\r\n      <img src={LoadingGit} width={100} alt=\"loading...\" />\r\n      <h3>Carregando...</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import { IClient } from \"components/Client\";\r\n\r\ninterface IArray extends IClient {\r\n  [index: string]: any;\r\n}\r\n\r\nexport function sortBy(field: string, array: IArray[], type: 'asc' | 'desc') {\r\n  if (!array || array === []) {\r\n    return array;\r\n  }\r\n\r\n  const sorted = array.sort((a, b) => {\r\n    let valueA = a[field];\r\n    let valueB = b[field];\r\n    if (typeof valueA === 'string') {\r\n      valueA = `${valueA}`.toUpperCase();\r\n      valueB = `${valueB}`.toUpperCase();\r\n    }\r\n    if (valueA > valueB) return 1;\r\n    if (valueA < valueB) return -1;\r\n    return 0;\r\n  });\r\n\r\n  \r\n  if (type === 'desc') {\r\n    return sorted;\r\n  }\r\n  \r\n  if (type === 'asc') {\r\n    return sorted.reverse();\r\n  }\r\n  return array;\r\n}\r\n","import React, { createContext, useCallback, useState } from 'react';\r\n\r\ninterface IOrder {\r\n  field: string;\r\n  type: 'asc' | 'desc';\r\n}\r\n\r\ninterface IFilterContext {\r\n  search: string;\r\n  order: IOrder;\r\n  changeOrder: (order: IOrder) => void;\r\n  setSearchFC: (value: string) => void;\r\n}\r\n\r\nexport const FilterContext = createContext({} as IFilterContext);\r\n\r\nexport const FilterProvider: React.FC = ({ children }) => {\r\n  const [search, setSearch] = useState('');\r\n  const [order, setOrder] = useState<IOrder>({ field: 'income', type: 'desc' });\r\n\r\n  const setSearchFC = useCallback((value: string) => {\r\n    setSearch(value);\r\n  }, []);\r\n\r\n  const changeOrder = useCallback((order: IOrder) => {\r\n    setOrder(order);\r\n  }, []);\r\n\r\n  return (\r\n    <FilterContext.Provider value={{\r\n      search,\r\n      order,\r\n      setSearchFC,\r\n      changeOrder,\r\n    }}>\r\n      {children}\r\n    </FilterContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport Client, { IClient } from './Client';\r\n\r\nimport 'styles/components/Clients.css';\r\nimport { AuthContext } from 'contexts/auth';\r\nimport { ClientContext } from 'contexts/client';\r\nimport Loading from './Loading';\r\nimport { sortBy } from 'utils/sort';\r\nimport { FilterContext } from 'contexts/filter';\r\nimport { IC } from 'pages/Dashboard';\r\n\r\ninterface IProps {\r\n  setClient: React.Dispatch<React.SetStateAction<IC>>;\r\n}\r\n\r\nconst Clients: React.FC<IProps> = ({ setClient }) => {\r\n  const [clients, setClients] = useState<IClient[]>();\r\n  const [reload, setReload] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const { getClients, doc, loading, searchClient, removed } = useContext(ClientContext);\r\n  const { search, order } = useContext(FilterContext);\r\n  const [lastSearch, setLastSearch] = useState(search);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setReload(false);\r\n      const res = await getClients(user!.id);\r\n      return setClients(res);\r\n    };\r\n    getData();\r\n  }, [getClients, user, reload]);\r\n\r\n  useEffect(() => {\r\n    async function get() {\r\n      if (!doc) {\r\n        return;\r\n      }\r\n      setClients(ov => [doc, ...ov!.filter(client => client.id !== doc?.id)]);\r\n    }\r\n    get();\r\n  }, [doc]);\r\n\r\n  useEffect(() => {\r\n    async function handleSearch() {\r\n      if (!search || search === lastSearch) {\r\n        return;\r\n      }\r\n      setLastSearch(search);\r\n      const res = await searchClient(search, user?.id!);\r\n      const clts = res.map(client => {\r\n        return {\r\n          id: Number(client.objectID),\r\n          name: client.name,\r\n          status: client.status,\r\n          phone: client.phone,\r\n          income: client.income,\r\n          ownerId: client.ownerId,\r\n          birthDate: new Date(client.birthDate),\r\n          createdAt: new Date(client.createdAt),\r\n        }\r\n      }); \r\n      setClients(sortBy(order.field, clts, order.type));\r\n    }\r\n    handleSearch();\r\n  }, [lastSearch, order, search, searchClient, user?.id]);\r\n\r\n\r\n  useEffect(() => {\r\n    function orderFC() {\r\n      if (!clients) {\r\n        return;\r\n      }\r\n      setClients(sortBy(order.field, clients, order.type));\r\n    }\r\n    orderFC();\r\n  }, [clients, order]);\r\n\r\n  useEffect(() => {\r\n    setClients(oldValue => oldValue?.filter(client => client.id !== removed));\r\n  }, [removed]);\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-container\">\r\n      <h1 className=\"title\">Lista de correntistas</h1>\r\n      {clients !== undefined && clients.length > 0 && clients.map(client => (\r\n        <Client key={client.id} data={client} setClient={setClient} />\r\n      ))}\r\n      {(!clients || clients.length === 0) && !loading &&\r\n        <>\r\n          <h2 className=\"msg\">Nenhum cliente foi encontrado!</h2>\r\n          <button onClick={() => setReload(true)} className=\"reload-btn\">Recarregar</button>\r\n        </>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clients;","import React, { useContext } from 'react';\r\n\r\nimport 'styles/components/Header.css';\r\nimport { AuthContext } from 'contexts/auth';\r\n\r\nconst Header: React.FC = () => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  return (\r\n    <>\r\n      <header className=\"header\">\r\n        <div className=\"brand\">{'<'}Brand{' />'}</div>\r\n        <div className=\"texts\">\r\n          <h1>Painel de controle</h1>\r\n          <h3>\r\n            Bem-vindo de volta,{' '}\r\n            <span className=\"username\">{user!.name}</span>!\r\n          </h3>\r\n        </div>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;","import React, { InputHTMLAttributes, useState } from 'react';\r\n\r\nimport 'styles/components/Input.css';\r\n\r\ninterface IProps extends InputHTMLAttributes<any> {\r\n  text?: string;\r\n  type: string;\r\n  step?: string;\r\n}\r\n\r\nconst Input: React.ForwardRefRenderFunction<HTMLInputElement, IProps> = (props, ref) => {\r\n  const [err, setErr] = useState(false);\r\n  const onBlur = (event: React.FocusEvent<HTMLInputElement>) => {\r\n    const { value } = event.currentTarget;\r\n    if (!value) {\r\n      return setErr(true);\r\n    }\r\n    if (props.type === 'email' &&\r\n      !value.match(/^[a-zA-Z0-9]+@+[a-zA-Z0-9]+.+[A-z]/)) {\r\n      return setErr(true);\r\n    }\r\n    setErr(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"block-input\">\r\n      {props.text !== undefined && <label>{props.text}</label>}\r\n      <input\r\n        ref={ref}\r\n        {...props}\r\n        className={err ? \"error\" : \"\"}\r\n        type={props.type}\r\n        minLength={props.type === \"password\" ? 6 : undefined}\r\n        step={props.type === 'number' ? props.step ?? '1' : ''}\r\n        onBlur={onBlur}\r\n        autoComplete={props.type === \"password\" ? \"off\" : \"on\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.forwardRef(Input);\r\n","import React from 'react';\r\n\r\nimport 'styles/components/SubmitButton.css';\r\n\r\ninterface IProps {\r\n  text: string;\r\n  disabled?: boolean; \r\n}\r\n\r\nconst SubmitButton: React.FC<IProps> = ({ text, disabled }) => {\r\n  return (\r\n    <button type=\"submit\" disabled={disabled} className=\"submit-button\">\r\n      <strong>{text}</strong> \r\n    </button>\r\n  );\r\n}\r\n\r\nexport default SubmitButton;","import React from 'react';\r\n\r\nimport 'styles/components/FormError.css';\r\n\r\ninterface IProps {\r\n  error: string;\r\n}\r\n\r\nconst FormError: React.FC<IProps> = ({ error }) => {\r\n  return (\r\n    <div className=\"error-container\">\r\n      <p>{error}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormError;","import React from 'react';\r\nimport 'styles/Form.css';\r\n\r\ninterface IProps {\r\n  onSubmit(event: React.FormEvent): Promise<void>;\r\n}\r\n\r\nconst Form: React.FC<IProps> = ({ children, onSubmit }) => {\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form className=\"form\" onSubmit={onSubmit}>\r\n        {children}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form;","import React, { useContext, useEffect, useRef, useState, useImperativeHandle, useCallback } from \"react\";\r\nimport Input from \"./Input\";\r\nimport SubmitButton from \"./SubmitButton\";\r\n\r\nimport { IClient } from \"./Client\";\r\nimport FormError from \"./FormError\";\r\nimport { AuthContext } from \"contexts/auth\";\r\n\r\nimport 'styles/Form.css';\r\nimport 'styles/components/Modal.css';\r\n\r\nimport Form from \"./Form\";\r\nimport { ClientContext } from \"contexts/client\";\r\n\r\ninterface IProps {\r\n  data?: IClient;\r\n}\r\n\r\nexport interface ModalHandles {\r\n  openModal: () => void;\r\n}\r\n\r\nconst NewClient: React.ForwardRefRenderFunction<ModalHandles, IProps> = ({ data }, ref) => {\r\n  const nameRef = useRef<HTMLInputElement>(null);\r\n  const phoneRef = useRef<HTMLInputElement>(null);\r\n  const birthRef = useRef<HTMLInputElement>(null);\r\n  const incomeRef = useRef<HTMLInputElement>(null);\r\n  const statusRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const { updateClient, createClient } = useContext(ClientContext);\r\n\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (data?.name && nameRef.current) {\r\n      nameRef.current!.value = data.name;\r\n      phoneRef.current!.value = String(data.phone);\r\n      birthRef.current!.value = data.birthDate.toISOString().split('T')[0];\r\n      incomeRef.current!.value = String(data.income);\r\n      statusRef.current!.checked = data.status;\r\n    }\r\n  }, [data]);\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    try {\r\n      event.preventDefault();\r\n      if (loading) {\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      const name = nameRef.current?.value;\r\n      const phone = phoneRef.current?.value;\r\n      const date = birthRef.current?.value;\r\n      const income = incomeRef.current?.value;\r\n\r\n      if (!name || !phone || !date || !income) {\r\n        return setError('Preencha todos os campos!');\r\n      }\r\n      if (phone.length < 11) {\r\n        return setError('O número de telefone deve ter pelo menos 11 dígitos. (DDD + telefone)');\r\n      }\r\n      if (phone.length > 11) {\r\n        return setError('O número de telefone deve ter no máximo 11 dígitos. (DDD + telefone)');\r\n      }\r\n      setError('');\r\n\r\n      const client = {\r\n        name,\r\n        phone: Number(phone),\r\n        birthDate: new Date(date),\r\n        income: Number(income),\r\n        status: statusRef.current!.checked,\r\n      };\r\n      if (data && data.id) {\r\n        await updateClient({ ...client, doc: data.doc, id: data.id });\r\n      } else {\r\n        const id = Number(Math.random().toString(10).substr(2, 10));\r\n        await createClient({ ...client, id, createdAt: new Date(), ownerId: user!.id, });\r\n      }\r\n      setLoading(false);\r\n      clearInputs();\r\n      closeModal();\r\n      \r\n    } catch(err) {\r\n      setLoading(false);\r\n      return setError(String(err));\r\n    }\r\n  };\r\n\r\n  const openModal = useCallback(() => {\r\n    modalRef.current?.classList.add('show');\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    clearInputs();\r\n    setError('');\r\n    modalRef.current?.classList.remove('show');\r\n    modalRef.current?.classList.add('hide');\r\n    modalRef.current?.addEventListener('animationend', () => {\r\n      modalRef.current?.classList.remove('hide');\r\n    });\r\n  }, []);\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      openModal,\r\n    }\r\n  });\r\n\r\n  const clearInputs = () => {\r\n    nameRef.current!.value = '';\r\n    phoneRef.current!.value = '';\r\n    birthRef.current!.value = '';\r\n    incomeRef.current!.value = '';\r\n    statusRef.current!.value = '';\r\n  };\r\n\r\n  return (\r\n    <div ref={modalRef} className=\"modal\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <h2>{data && data.id ? 'Atualizar cliente' : 'Novo cliente'}</h2>\r\n        <Input\r\n          ref={nameRef}\r\n          text=\"Nome\"\r\n          type=\"text\"\r\n        />\r\n        <Input\r\n          ref={phoneRef}\r\n          text=\"Telefone\"\r\n          placeholder=\"DDD + número\"\r\n          type=\"number\"\r\n          maxLength={11}\r\n        />\r\n        <Input\r\n          ref={birthRef}\r\n          text=\"Data de nascimento\"\r\n          type=\"date\"\r\n        />\r\n        <Input\r\n          ref={incomeRef}\r\n          text=\"Renda\"\r\n          step=\"any\"\r\n          type=\"number\"\r\n        />\r\n        <label className=\"lb-checkbox\">\r\n          Status\r\n          <input ref={statusRef} type=\"checkbox\" className=\"checkbox\" />\r\n        </label>\r\n\r\n        <SubmitButton\r\n          disabled={loading}\r\n          text={data && data.id\r\n            ? loading ? 'Atualizando...' : 'Atualizar'\r\n            : loading ? 'Salvando...' : 'Inserir'}\r\n        />\r\n        {error !== '' && <FormError error={error} />}\r\n        <div className=\"center\">\r\n          <button className=\"cancel\" type=\"button\" onClick={closeModal}>Cancelar</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.forwardRef(NewClient);\r\n","import React, { FormEvent, useContext, useRef, useState } from 'react';\r\n\r\nimport 'styles/components/Filter.css';\r\nimport Input from './Input';\r\nimport { FilterContext } from 'contexts/filter';\r\n\r\nimport { FiSearch } from 'react-icons/fi';\r\n\r\nconst Search: React.FC = () => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const { setSearchFC } = useContext(FilterContext);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFilter = (event: FormEvent) => {\r\n    event.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const value = inputRef.current?.value;\r\n    if (!value?.length) {\r\n      return;\r\n    }\r\n    setSearchFC(value!);\r\n    return setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      <form onSubmit={handleFilter}>\r\n        <div className=\"row\">\r\n          <span className=\"material-icons-outlined\">\r\n          </span>\r\n          <Input\r\n            className=\"inp\"\r\n            ref={inputRef}\r\n            placeholder=\"Buscar por nome, telefone...\"\r\n            type=\"search\"\r\n          />\r\n          <button>\r\n            <FiSearch size={18} />\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { FilterContext } from 'contexts/filter';\r\nimport React, { useContext, useRef } from 'react';\r\n\r\nimport 'styles/components/Filter.css';\r\n\r\nconst OrderFilter: React.FC = () => {\r\n  const { changeOrder } = useContext(FilterContext);\r\n  const fieldRef = useRef<HTMLSelectElement>(null);\r\n  const typeRef = useRef<HTMLSelectElement>(null);\r\n\r\n  const onChange = () => {\r\n    if (!fieldRef.current || !typeRef.current) {\r\n      return;\r\n    }\r\n    const field = fieldRef.current!.value;\r\n    const type = typeRef.current!.value;\r\n    return changeOrder({ field, type: type === 'asc' ? 'asc' : 'desc'});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <select ref={fieldRef} defaultValue=\"income\" onChange={onChange}>\r\n        <option value=\"name\">Nome</option>\r\n        <option value=\"income\">Renda</option>\r\n        <option value=\"birthDate\">Data de nascimento</option>\r\n        <option value=\"status\">Status</option>\r\n      </select>\r\n      <select ref={typeRef} defaultValue=\"desc\" onChange={onChange}>\r\n        <option value=\"asc\">Ascendente</option>\r\n        <option value=\"desc\">Decrescente</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderFilter;\r\n","import React, { useContext, useRef, useState } from \"react\";\r\n\r\nimport 'styles/components/SideBar.css';\r\nimport Search from \"./Search\";\r\nimport { AuthContext } from \"contexts/auth\";\r\nimport Filter from \"./Filter\";\r\nimport { FiLogOut, FiChevronRight, FiChevronLeft } from 'react-icons/fi';\r\n\r\ninterface IProps {\r\n  fct?: () => void;\r\n}\r\n\r\nconst SideBar: React.FC<IProps> = ({ fct }) => {\r\n  const { signOut } = useContext(AuthContext);\r\n  const [visible, setVisible] = useState(false);\r\n  const sidebarRef = useRef<HTMLDivElement>(null);\r\n\r\n  const logout = async () => {\r\n    await signOut();\r\n  };\r\n\r\n  const toggle = () => {\r\n    sidebarRef.current!.classList.toggle('an');\r\n    sidebarRef.current?.classList.value.includes('an') ? setVisible(true) : setVisible(false);\r\n  }\r\n\r\n  return (\r\n    <div ref={sidebarRef} className=\"side-bar\">\r\n      <div className=\"brand\">{'<'}Brand{' />'}</div>\r\n      <ul>\r\n        <li>\r\n          <span>\r\n            <h4>Buscar</h4>\r\n          </span>\r\n          <Search />\r\n        </li>\r\n        <li>\r\n          <span>\r\n            <h4>Ordenar por</h4>\r\n          </span>\r\n          <Filter />\r\n        </li>\r\n      </ul>\r\n      <button onClick={fct}>\r\n        <strong>Novo cliente</strong>\r\n      </button>\r\n      <button className=\"logout\" onClick={logout}>\r\n        <span>\r\n          Sair\r\n        </span>\r\n        <FiLogOut size={18} />\r\n      </button>\r\n      <button className=\"btn-toggle\" onClick={toggle}>\r\n        <span>\r\n          {visible === true ?\r\n            <FiChevronLeft className=\"chevron-l\" size={20} />\r\n          : <FiChevronRight className=\"chevron-r\" size={20} />\r\n          }\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { IClient } from 'components/Client';\r\nimport Clients from 'components/Clients';\r\nimport Header from 'components/Header';\r\nimport NewClient, { ModalHandles } from 'components/NewClient';\r\nimport SideBar from 'components/SideBar';\r\n\r\nimport 'styles/pages/Dashboard.css';\r\nimport { ClientProvider } from 'contexts/client';\r\nimport { FilterProvider } from 'contexts/filter';\r\n\r\nexport interface IC {\r\n  data: IClient;\r\n  key: number;\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const [client, setClient] = useState<IC>({} as IC);\r\n  const modalRef = useRef<ModalHandles>(null);\r\n\r\n  const handleOpen = () => {\r\n    setClient({} as IC);\r\n    modalRef.current?.openModal();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (client && client.data) {\r\n      modalRef.current?.openModal();\r\n    }\r\n  }, [client]);\r\n\r\n  return (\r\n    <ClientProvider>\r\n      <div className=\"dashboard\">\r\n        <Header />\r\n        <div className=\"content\">\r\n          <FilterProvider>\r\n            <SideBar fct={handleOpen} />\r\n            <Clients setClient={setClient} />\r\n          </FilterProvider>\r\n        </div>\r\n      </div>\r\n      <NewClient ref={modalRef} data={client.data} />\r\n    </ClientProvider>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import Dashboard from 'pages/Dashboard';\r\nimport React from 'react';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nconst AppRoutes: React.FC = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/dashboard\" exact component={Dashboard} />\r\n        <Redirect from=\"*\" to=\"/dashboard\" />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default AppRoutes;\r\n","import React, { useContext, useRef, useState } from 'react';\r\n\r\nimport Input from 'components/Input';\r\nimport SubmitButton from 'components/SubmitButton';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport 'styles/pages/Logon.css';\r\nimport 'styles/Form.css';\r\n\r\nimport { AuthContext } from 'contexts/auth';\r\n\r\nimport FormError from 'components/FormError';\r\nimport Form from 'components/Form';\r\n\r\nconst Logon: React.FC = () => {\r\n  const emailRef = useRef<HTMLInputElement>(null);\r\n  const passwordRef = useRef<HTMLInputElement>(null);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { signIn } = useContext(AuthContext);\r\n\r\n  const handleLogon = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const email = emailRef.current?.value;\r\n    const password = passwordRef.current?.value;\r\n    try {\r\n      if (!email || !password) {\r\n        setLoading(false);\r\n        return setError('Preencha todos os campos!');\r\n      }\r\n      setError('');\r\n      await signIn(email, password);\r\n      setLoading(false);\r\n      return;\r\n    } catch(err) {\r\n      setLoading(false);\r\n      if (String(err).indexOf('user-not-found') > 0) {\r\n        return setError('Usuário não encontrado')\r\n      }\r\n      if (String(err).indexOf('wrong-password') > 0) {\r\n        return setError('Senha incorreta!');\r\n      }\r\n      setError('Ocorreu um erro, tente novamente');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Form onSubmit={handleLogon}>\r\n        <h2>Boas-vindas!</h2>\r\n        <Input\r\n          ref={emailRef}\r\n          text=\"E-mail\"\r\n          type=\"email\"\r\n        />\r\n        <Input\r\n          ref={passwordRef}\r\n          text=\"Senha\"\r\n          type=\"password\"\r\n        />\r\n\r\n        <SubmitButton disabled={loading} text={loading ? \"Autenticando...\" : \"Entrar\"} />\r\n\r\n        <span>\r\n          Não possui uma conta?\r\n          <Link to=\"register\" className=\"link\">\r\n            <span> Registre-se</span>\r\n          </Link>\r\n        </span>\r\n      {error !== '' && <FormError {...{ error }} />}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logon;\r\n","import React, { useRef, useState } from 'react';\r\n\r\nimport SubmitButton from 'components/SubmitButton';\r\nimport Input from 'components/Input';\r\nimport FormError from 'components/FormError';\r\n\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport 'styles/pages/Logon.css';\r\nimport 'styles/Form.css';\r\nimport { SignUpService } from 'services/auth';\r\nimport Form from 'components/Form';\r\n\r\nconst Register: React.FC = () => {\r\n  const nameRef = useRef<HTMLInputElement>(null);\r\n  const emailRef = useRef<HTMLInputElement>(null);\r\n  const passwordRef = useRef<HTMLInputElement>(null);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleRegister = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const name = nameRef.current?.value;\r\n    const email = emailRef.current?.value;\r\n    const password = passwordRef.current?.value;\r\n    try {\r\n      if (!email || !password) {\r\n        return setLoading(false);\r\n      }\r\n      await SignUpService(email, password, name!);\r\n      setLoading(false);\r\n      alert('O usuário foi registrado, acesse a página de login');\r\n      history.push('/login');\r\n    } catch(err) {\r\n      setLoading(false);\r\n      if (String(err).indexOf('email-already-in-use') > 0) {\r\n        return setError('O E-mail já está cadastrado');\r\n      }\r\n      setError('Ocorreu um erro, tente novamente');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Form onSubmit={handleRegister}>\r\n        <h2>Criar conta</h2>\r\n        <Input\r\n          ref={nameRef}\r\n          text=\"Nome\"\r\n          type=\"text\"\r\n        />\r\n        <Input\r\n          ref={emailRef}\r\n          text=\"E-mail\"\r\n          type=\"email\"\r\n        />\r\n        <Input\r\n          ref={passwordRef}\r\n          text=\"Senha\"\r\n          type=\"password\"\r\n        />\r\n        \r\n        <SubmitButton disabled={loading} text={loading ? \"Cadastrando...\" : \"Cadastrar\"} />\r\n\r\n        <span>\r\n          Já possui uma conta?\r\n          <Link to=\"login\" className=\"link\">\r\n            <span> Acesse aqui</span>\r\n          </Link>\r\n        </span>\r\n        {error !== '' && <FormError {...{ error }} />}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Logon from 'pages/Logon';\r\nimport Register from 'pages/Register';\r\n\r\nconst AuthRoutes: React.FC = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/login\" component={Logon} />\r\n        <Route path=\"/register\" component={Register} />\r\n        <Redirect from=\"*\" to=\"/login\" />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default AuthRoutes;\r\n","import { AuthContext } from 'contexts/auth';\r\nimport React, { useContext } from 'react';\r\n\r\nimport AppRoutes from './app.routes';\r\nimport AuthRoutes from './auth.routes';\r\n\r\nconst Routes: React.FC = () => {\r\n  const { signed, loading } = useContext(AuthContext);\r\n\r\n  if (loading) {\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  if (signed) {\r\n    return <AppRoutes />\r\n  }\r\n\r\n  return <AuthRoutes />\r\n}\r\n\r\nexport default Routes;","import { AuthProvider } from 'contexts/auth';\r\nimport React from 'react';\r\nimport { Router } from 'react-router';\r\nimport history from 'utils/history';\r\n\r\nimport Routes from './routes';\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router history={history}>\r\n        <Routes />\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}